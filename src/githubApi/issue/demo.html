<div class="markdown prose w-full break-words dark:prose-invert dark"><p>HTTP/2 的多路复用是一种新的协议特性，它使得多个 HTTP 请求可以通过同一个 TCP 连接并行传输。在 HTTP/1 中，每个请求都需要建立一个 TCP 连接，这会导致连接建立的开销和网络拥塞的问题。而 HTTP/2 的多路复用可以避免这些问题，提高网络的效率。</p><p>具体来说，HTTP/2 的多路复用将 HTTP 请求和响应分割为多个带有独立流 ID 的帧，然后将这些帧交错地发送到服务器和客户端。每个流都可以有自己的优先级和窗口大小控制，可以根据不同的流的优先级来调整流量，确保高优先级的流能够更快地获得资源。</p><p>HTTP/2 的多路复用的主要优点包括：</p><ul><li>减少了连接建立的次数：多路复用允许在一个 TCP 连接上同时传输多个 HTTP 请求和响应，从而减少了连接建立的开销。</li><li>提高了网络性能：多路复用能够使多个请求和响应交错地发送到服务器和客户端，从而避免了网络拥塞，提高了网络的效率。</li><li>改进了网页加载速度：多路复用能够优先处理优先级高的流，从而使得网页加载速度更快。</li></ul><p>关于实现原理，HTTP/2 的多路复用是通过二进制分帧机制实现的。在传输层之上，HTTP/2 使用了帧来传输 HTTP 消息。每个帧都包含了帧头和帧体两部分。帧头包含了帧的类型、长度和标识等信息，帧体则包含了具体的数据。</p><p>HTTP/2 中的流是一个虚拟的概念，一个流可以包含多个帧。HTTP/2 通过流 ID 来区分不同的流，每个流都有一个独立的双向传输通道。HTTP/2 中的每个流都可以有自己的优先级，服务器可以根据流的优先级来调整流量，确保高优先级的流能够更快地获得资源。</p></div>

